<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work-Life Balance Companion</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="insights-styles.css">
    <link rel="stylesheet" href="life-balance-styles.css">
    <link rel="stylesheet" href="help-styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="logo">
                <h2>üíº WLB Companion</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="#" data-section="dashboard" class="nav-link active">
                    <span class="icon">üè†</span> Dashboard
                </a></li>
                <li><a href="#" data-section="tasks" class="nav-link">
                    <span class="icon">üìë</span> Tasks
                </a></li>
                <li><a href="#" data-section="expenses" class="nav-link">
                    <span class="icon">üí∞</span> Expenses
                </a></li>
                <li><a href="#" data-section="food" class="nav-link">
                    <span class="icon">üç≤</span> Food & Nutrition
                </a></li>
                <li><a href="#" data-section="fitness" class="nav-link">
                    <span class="icon">üèãÔ∏è</span> Fitness
                </a></li>
                <li><a href="#" data-section="stress" class="nav-link">
                    <span class="icon">üòå</span> Stress & Mood
                </a></li>
                <li><a href="#" data-section="habits" class="nav-link">
                    <span class="icon">üß†</span> Life Analytics
                </a></li>
                <li><a href="#" data-section="report" class="nav-link">
                    <span class="icon">üìä</span> Report Generator
                </a></li>
            </ul>
            <div class="theme-toggle">
                <button id="darkModeToggle">üåô Dark Mode</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="section-header">
                    <h1 id="greeting">Hello there, here's your day at a glance.</h1>
                </div>
                <div class="dashboard-grid">
                    <div class="widget task-widget">
                        <h3>üìë Tasks Today</h3>
                        <div class="widget-content">
                            <div class="stat-number" id="tasksCompleted">0</div>
                            <div class="stat-label">Completed / <span id="totalTasks">0</span> Total</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="taskProgress"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="widget expense-widget">
                        <h3>üí∞ Weekly Spending</h3>
                        <div class="widget-content">
                            <div class="stat-number" id="weeklyExpense">‚Çπ0</div>
                            <div class="stat-label">This Week</div>
                        </div>
                    </div>
                    
                    <div class="widget food-widget">
                        <h3>üç≤ Today's Meal</h3>
                        <div class="widget-content">
                            <div id="mealSuggestion">Healthy Oats Bowl</div>
                            <div class="stat-label">Suggested</div>
                        </div>
                    </div>
                    
                    <div class="widget fitness-widget">
                        <h3>üèãÔ∏è Workout Streak</h3>
                        <div class="widget-content">
                            <div class="stat-number" id="workoutStreak">0</div>
                            <div class="stat-label">Days üî•</div>
                        </div>
                    </div>
                    
                    <div class="widget stress-widget">
                        <h3>üòå Stress Level</h3>
                        <div class="widget-content">
                            <div class="stress-emoji" id="currentStress">üòê</div>
                            <div class="stat-label">Today</div>
                        </div>
                    </div>
                    
                    <div class="widget summary-widget">
                        <h3>üìä Weekly Summary</h3>
                        <div class="widget-content">
                            <p id="weeklySummary">You completed 80% of tasks, spent ‚Çπ4200, cooked 3 healthy meals, did 4 workouts, stress was high on 2 days.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Task Manager Section -->
            <section id="tasks" class="section">
                <div class="section-header">
                    <h1>üìë Task Manager</h1>
                    <div class="header-actions">
                        <button class="btn-secondary export-btn" data-section="tasks" data-format="csv">üìä Export CSV</button>
                        <button class="btn-secondary export-btn" data-section="tasks" data-format="json">üìÑ Export JSON</button>
                        <button class="btn-primary" id="addTaskBtn">+ Add Task</button>
                    </div>
                </div>
                
                <div class="task-stats">
                    <div class="stat-card">
                        <span id="taskStreak">0</span>
                        <label>Day Streak</label>
                    </div>
                    <div class="stat-card">
                        <span id="todayProgress">0%</span>
                        <label>Today's Progress</label>
                    </div>
                </div>

                <div class="task-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="today">Today</button>
                    <button class="filter-btn" data-filter="upcoming">Upcoming</button>
                    <button class="filter-btn" data-filter="completed">Completed</button>
                </div>

                <div class="task-list" id="taskList">
                    <!-- Tasks will be dynamically added here -->
                </div>

                <!-- Add Task Modal -->
                <div id="taskModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Add New Task</h2>
                        <form id="taskForm">
                            <input type="text" id="taskTitle" placeholder="Task title" required>
                            <select id="taskCategory">
                                <option value="work">üíº Work</option>
                                <option value="personal">üë§ Personal</option>
                                <option value="health">üè• Health & Fitness</option>
                                <option value="food">üçï Food & Dining</option>
                                <option value="bills">üìß Bills & Utilities</option>
                                <option value="shopping">üõçÔ∏è Shopping</option>
                                <option value="travel">‚úàÔ∏è Travel & Transport</option>
                                <option value="entertainment">üé¨ Entertainment</option>
                                <option value="education">üìö Education</option>
                                <option value="reminder">‚è∞ Reminder</option>
                                <option value="other">üì¶ Other</option>
                            </select>
                            <input type="date" id="taskDate">
                            <div class="checkbox-group">
                                <label>
                                    <input type="checkbox" id="taskExpense">
                                    <span class="checkmark"></span>
                                    This task involves an expense
                                </label>
                            </div>
                            <div id="expenseTaskDetails" style="display:none;">
                                <input type="number" id="taskAmount" placeholder="Expected amount (‚Çπ)" step="0.01">
                                <div class="expense-category-info">
                                    <label>Expense will be categorized as: <span id="selectedExpenseCategory">-</span></label>
                                    <button type="button" class="btn-link" id="changeExpenseCategoryBtn" style="display:none;">Change</button>
                                </div>
                                <select id="taskExpenseCategory" style="display:none;">
                                    <option value="">Select expense category</option>
                                    <option value="food">üçï Food & Dining</option>
                                    <option value="bills">üìß Bills & Utilities</option>
                                    <option value="shopping">üõçÔ∏è Shopping</option>
                                    <option value="travel">‚úàÔ∏è Travel & Transport</option>
                                    <option value="entertainment">üé¨ Entertainment</option>
                                    <option value="healthcare">üè• Healthcare</option>
                                    <option value="education">üìö Education</option>
                                    <option value="fitness">ÔøΩÔøΩÔøΩ Fitness & Sports</option>
                                    <option value="subscriptions">üì∫ Subscriptions</option>
                                    <option value="groceries">üõí Groceries</option>
                                    <option value="clothing">üëï Clothing</option>
                                    <option value="other">üì¶ Other</option>
                                </select>
                            </div>
                            <button type="submit" class="btn-primary">Add Task</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Expense Tracker Section -->
            <section id="expenses" class="section">
                <div class="section-header">
                    <h1>üí∞ Expense Tracker</h1>
                    <div class="header-actions">
                        <button class="btn-secondary" id="viewToggleBtn">üìÖ Calendar View</button>
                        <button class="btn-primary" id="addExpenseBtn">+ Add Expense</button>
                    </div>
                </div>

                <!-- Tab Navigation -->
                <div class="expense-tabs">
                    <button class="tab-btn active" data-tab="overview">üìä Overview</button>
                    <button class="tab-btn" data-tab="calendar">üìÖ Calendar</button>
                    <button class="tab-btn" data-tab="analytics">üìà Analytics</button>
                    <button class="tab-btn" data-tab="insights">üß† Insights</button>
                </div>

                <!-- Overview Tab -->
                <div id="overview-tab" class="tab-content active">
                    <!-- Monthly Income Section -->
                    <div class="income-tracker">
                        <h3>üí∞ Monthly Financial Overview</h3>
                        <div class="income-stats">
                            <div class="income-card">
                                <div class="income-amount">
                                    <span id="monthlyIncomeDisplay">‚Çπ0</span>
                                    <button class="btn-link" id="setIncomeBtn">Set Income</button>
                                </div>
                                <label>Monthly Income</label>
                            </div>
                            <div class="income-card">
                                <span id="monthlySpendingTotal">‚Çπ0</span>
                                <label>Monthly Spending</label>
                            </div>
                            <div class="income-card savings-card">
                                <span id="monthlySavingsAmount">‚Çπ0</span>
                                <label>Monthly Savings</label>
                            </div>
                            <div class="income-card">
                                <span id="savingsPercentage">0%</span>
                                <label>Savings Rate</label>
                            </div>
                        </div>
                    </div>

                    <div class="expense-stats">
                        <div class="stat-card">
                            <span id="dailySpending">‚Çπ0</span>
                            <label>Today</label>
                        </div>
                        <div class="stat-card">
                            <span id="weeklySpending">‚Çπ0</span>
                            <label>This Week</label>
                        </div>
                        <div class="stat-card">
                            <span id="monthlySpending">‚Çπ0</span>
                            <label>This Month</label>
                        </div>
                        <div class="stat-card">
                            <span id="averageDaily">‚Çπ0</span>
                            <label>Daily Average</label>
                        </div>
                    </div>

                    <div class="expense-overview-grid">
                        <div class="savings-goal">
                            <h3>üí∞ Savings Goal</h3>
                            <div class="goal-progress">
                                <span>This month's goal: ‚Çπ<span id="savingsGoalAmount">10,000</span> saved</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="savingsProgress"></div>
                                </div>
                                <span id="savingsAmount">Progress: ‚Çπ6,500</span>
                            </div>
                            <button class="btn-link" id="setSavingsGoalBtn">Set Goal</button>
                        </div>

                        <div class="budget-tracker">
                            <h3>üìã Budget Tracker</h3>
                            <div class="budget-categories" id="budgetCategories">
                                <!-- Budget items will be added dynamically -->
                            </div>
                            <button class="btn-link" id="setBudgetBtn">Set Budget</button>
                        </div>
                    </div>

                    <div class="quick-charts">
                        <div class="chart-container">
                            <h3>Category Distribution</h3>
                            <canvas id="expenseChart" width="400" height="400"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Weekly Trend</h3>
                            <canvas id="weeklyTrendChart" width="400" height="300"></canvas>
                        </div>
                    </div>

                    <div class="recent-expenses">
                        <h3>Recent Expenses</h3>
                        <div class="expense-list" id="expenseList">
                            <!-- Recent expenses will be dynamically added here -->
                        </div>
                    </div>
                </div>

                <!-- Calendar Tab -->
                <div id="calendar-tab" class="tab-content">
                    <div class="calendar-header">
                        <button class="btn-icon" id="prevMonthBtn">‚Äπ</button>
                        <h2 id="currentMonthYear">January 2024</h2>
                        <button class="btn-icon" id="nextMonthBtn">‚Ä∫</button>
                        <div class="calendar-legend">
                            <span class="legend-item"><span class="color-dot low"></span> Low (&lt; ‚Çπ500)</span>
                            <span class="legend-item"><span class="color-dot medium"></span> Medium (‚Çπ500-1500)</span>
                            <span class="legend-item"><span class="color-dot high"></span> High (&gt; ‚Çπ1500)</span>
                        </div>
                    </div>

                    <div class="expense-calendar" id="expenseCalendar">
                        <!-- Calendar will be dynamically generated -->
                    </div>

                    <div class="selected-date-expenses" id="selectedDateExpenses">
                        <h3 id="selectedDateTitle">Select a date to view expenses</h3>
                        <div class="date-expense-list" id="dateExpenseList">
                            <!-- Date-specific expenses will be shown here -->
                        </div>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div id="analytics-tab" class="tab-content">
                    <div class="analytics-grid">
                        <div class="chart-section">
                            <h3>üìä Spending Trends</h3>
                            <div class="chart-controls">
                                <select id="trendPeriod">
                                    <option value="week">Last 7 Days</option>
                                    <option value="month" selected>Last 30 Days</option>
                                    <option value="3months">Last 3 Months</option>
                                    <option value="year">Last Year</option>
                                </select>
                            </div>
                            <canvas id="spendingTrendChart"></canvas>
                        </div>

                        <div class="chart-section">
                            <h3>üéØ Category Analysis</h3>
                            <div class="chart-controls">
                                <button class="btn-small active" data-chart="pie">Pie Chart</button>
                                <button class="btn-small" data-chart="bar">Bar Chart</button>
                                <button class="btn-small" data-chart="doughnut">Doughnut</button>
                            </div>
                            <canvas id="categoryAnalysisChart"></canvas>
                        </div>

                        <div class="chart-section">
                            <h3>üí≥ Payment Method Analysis</h3>
                            <canvas id="paymentMethodChart"></canvas>
                        </div>

                        <div class="chart-section">
                            <h3>üîÑ Comparison Analysis</h3>
                            <div class="comparison-controls">
                                <select id="comparisonType">
                                    <option value="month-over-month">Month over Month</option>
                                    <option value="week-over-week">Week over Week</option>
                                    <option value="year-over-year">Year over Year</option>
                                </select>
                            </div>
                            <canvas id="comparisonChart"></canvas>
                        </div>
                    </div>

                    <div class="analytics-summary">
                        <h3>üéØ Key Insights</h3>
                        <div class="insights-grid" id="analyticsInsights">
                            <!-- Analytics insights will be generated here -->
                        </div>
                    </div>
                </div>

                <!-- Insights Tab -->
                <div id="insights-tab" class="tab-content">
                    <div class="insights-dashboard">
                        <!-- Financial Health Score -->
                        <div class="financial-health-section">
                            <h3>üè• Financial Health Score</h3>
                            <div class="health-score-container">
                                <div class="health-score-circle">
                                    <div class="health-score-value" id="healthScoreValue">0</div>
                                    <div class="health-score-label">out of 100</div>
                                </div>
                                <div class="health-breakdown" id="healthBreakdown">
                                    <!-- Health score breakdown will be shown here -->
                                </div>
                            </div>
                        </div>

                        <!-- Income vs Expenses Comparison -->
                        <div class="income-vs-expenses">
                            <h3>üí∞ Income vs Expenses</h3>
                            <div class="comparison-chart-container">
                                <canvas id="incomeVsExpensesChart" width="600" height="300"></canvas>
                            </div>
                            <div class="comparison-summary" id="comparisonSummary">
                                <!-- Income vs expenses summary will be shown here -->
                            </div>
                        </div>

                        <!-- Category Analysis -->
                        <div class="category-insights">
                            <h3>üìä Category Insights</h3>
                            <div class="category-analysis-grid" id="categoryAnalysisGrid">
                                <!-- Category-wise analysis will be shown here -->
                            </div>
                        </div>

                        <div class="prediction-section">
                            <h3>üîÆ Spending Predictions</h3>
                            <div class="prediction-cards">
                                <div class="prediction-card">
                                    <h4>Next Week</h4>
                                    <div class="prediction-amount" id="nextWeekPrediction">‚Çπ0</div>
                                    <div class="prediction-confidence">Confidence: <span id="weekConfidence">85%</span></div>
                                </div>
                                <div class="prediction-card">
                                    <h4>Next Month</h4>
                                    <div class="prediction-amount" id="nextMonthPrediction">‚Çπ0</div>
                                    <div class="prediction-confidence">Confidence: <span id="monthConfidence">78%</span></div>
                                </div>
                                <div class="prediction-card">
                                    <h4>Annual Savings</h4>
                                    <div class="prediction-amount" id="annualSavingsPrediction">‚Çπ0</div>
                                    <div class="prediction-confidence">At current rate</div>
                                </div>
                            </div>
                        </div>

                        <div class="recurring-management">
                            <h3>üîÑ Recurring Expenses</h3>
                            <div class="recurring-list" id="recurringExpensesList">
                                <!-- Recurring expenses will be listed here -->
                            </div>
                            <button class="btn-primary" id="manageRecurringBtn">Manage Recurring</button>
                        </div>

                        <div class="patterns-section">
                            <h3>üß© Spending Patterns</h3>
                            <div class="pattern-analysis" id="patternAnalysis">
                                <!-- Pattern analysis will be generated here -->
                            </div>
                        </div>

                        <div class="smart-alerts">
                            <h3>‚ö†Ô∏è Smart Alerts</h3>
                            <div class="alerts-list" id="smartAlertsList">
                                <!-- Smart alerts will be generated here -->
                            </div>
                        </div>

                        <div class="recommendations-section">
                            <h3>üí° Smart Recommendations</h3>
                            <div class="recommendations-list" id="recommendationsList">
                                <!-- Recommendations will be generated here -->
                            </div>
                        </div>

                        <div class="goals-section">
                            <h3>üéØ Financial Goals</h3>
                            <div class="goals-list" id="goalsList">
                                <!-- Financial goals tracking will be shown here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Add Expense Modal -->
                <div id="expenseModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2 id="expenseModalTitle">Add New Expense</h2>
                        <form id="expenseForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="expenseAmount">Amount (‚Çπ)</label>
                                    <input type="number" id="expenseAmount" placeholder="0.00" required step="0.01">
                                    <div class="smart-suggestions" id="amountSuggestions" style="display: none;"></div>
                                </div>
                                <div class="form-group">
                                    <label for="expenseDate">Date</label>
                                    <input type="date" id="expenseDate" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="expenseCategory">Category</label>
                                <select id="expenseCategory" required>
                                    <option value="">Select Category</option>
                                    <option value="food">üçï Food & Dining</option>
                                    <option value="bills">üìß Bills & Utilities</option>
                                    <option value="shopping">üõçÔøΩÔøΩ Shopping</option>
                                    <option value="travel">‚úàÔ∏è Travel & Transport</option>
                                    <option value="entertainment">üé¨ Entertainment</option>
                                    <option value="healthcare">üè• Healthcare</option>
                                    <option value="education">üìö Education</option>
                                    <option value="fitness">üí™ Fitness & Sports</option>
                                    <option value="subscriptions">üì∫ Subscriptions</option>
                                    <option value="groceries">üõí Groceries</option>
                                    <option value="clothing">üëï Clothing</option>
                                    <option value="other">üì¶ Other</option>
                                </select>
                                <div class="smart-category-suggestion" id="categorySuggestion" style="display: none;"></div>
                            </div>

                            <div class="form-group">
                                <label for="expenseNotes">Description</label>
                                <input type="text" id="expenseNotes" placeholder="What was this expense for?">
                                <div class="auto-complete-suggestions" id="descriptionSuggestions" style="display: none;"></div>
                            </div>

                            <div class="form-group">
                                <label for="expensePaymentMethod">Payment Method</label>
                                <select id="expensePaymentMethod">
                                    <option value="cash">üíµ Cash</option>
                                    <option value="card">üí≥ Card</option>
                                    <option value="upi">üì± UPI</option>
                                    <option value="bank">üè¶ Bank Transfer</option>
                                    <option value="wallet">üì± Digital Wallet</option>
                                </select>
                            </div>

                            <div class="form-group checkbox-group">
                                <label>
                                    <input type="checkbox" id="expenseRecurring">
                                    <span class="checkmark"></span>
                                    This is a recurring expense
                                </label>
                            </div>

                            <div id="recurringOptions" class="recurring-options" style="display: none;">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="recurringFrequency">Frequency</label>
                                        <select id="recurringFrequency">
                                            <option value="weekly">Weekly</option>
                                            <option value="monthly" selected>Monthly</option>
                                            <option value="quarterly">Quarterly</option>
                                            <option value="yearly">Yearly</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="recurringEndDate">End Date (Optional)</label>
                                        <input type="date" id="recurringEndDate">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="recurringReminder">Reminder (days before)</label>
                                    <input type="number" id="recurringReminder" value="3" min="0" max="30">
                                </div>
                            </div>


                            <div class="expense-forecast" id="expenseForecast" style="display: none;">
                                <h4>üí° Smart Insights</h4>
                                <div class="forecast-content" id="forecastContent"></div>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="app.closeModal('expenseModal')">Cancel</button>
                                <button type="submit" class="btn-primary">Save Expense</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Budget Setting Modal -->
                <div id="budgetModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Set Monthly Budget</h2>
                        <form id="budgetForm">
                            <div class="budget-categories-form" id="budgetCategoriesForm">
                                <!-- Budget categories will be generated here -->
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="app.closeModal('budgetModal')">Cancel</button>
                                <button type="submit" class="btn-primary">Save Budget</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Savings Goal Modal -->
                <div id="savingsGoalModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Set Savings Goal</h2>
                        <form id="savingsGoalForm">
                            <div class="form-group">
                                <label for="goalAmount">Monthly Savings Goal (‚Çπ)</label>
                                <input type="number" id="goalAmount" placeholder="10000" required>
                            </div>
                            <div class="form-group">
                                <label for="goalDescription">Goal Description</label>
                                <input type="text" id="goalDescription" placeholder="Emergency fund, vacation, etc.">
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="app.closeModal('savingsGoalModal')">Cancel</button>
                                <button type="submit" class="btn-primary">Set Goal</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Monthly Income Modal -->
                <div id="incomeModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Set Monthly Income</h2>
                        <form id="incomeForm">
                            <div class="form-group">
                                <label for="monthlyIncomeAmount">Monthly Income (‚Çπ)</label>
                                <input type="number" id="monthlyIncomeAmount" placeholder="50000" required step="100">
                            </div>
                            <div class="form-group">
                                <label for="incomeSource">Primary Income Source</label>
                                <select id="incomeSource">
                                    <option value="salary">üíº Salary</option>
                                    <option value="freelance">üíª Freelance</option>
                                    <option value="business">üè¢ Business</option>
                                    <option value="investment">üìà Investment</option>
                                    <option value="other">üì¶ Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="incomeNotes">Notes (Optional)</label>
                                <input type="text" id="incomeNotes" placeholder="Additional details about your income">
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="app.closeModal('incomeModal')">Cancel</button>
                                <button type="submit" class="btn-primary">Save Income</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Recurring Expenses Management Modal -->
                <div id="recurringModal" class="modal">
                    <div class="modal-content wide-modal">
                        <span class="close">&times;</span>
                        <h2>üîÑ Manage Recurring Expenses</h2>

                        <div class="recurring-tabs">
                            <button class="tab-btn active" data-tab="active-recurring">Active</button>
                            <button class="tab-btn" data-tab="paused-recurring">Paused</button>
                            <button class="tab-btn" data-tab="upcoming-recurring">Upcoming</button>
                        </div>

                        <div id="active-recurring" class="tab-content active">
                            <div class="recurring-expenses-grid" id="activeRecurringGrid">
                                <!-- Active recurring expenses will be displayed here -->
                            </div>
                        </div>

                        <div id="paused-recurring" class="tab-content">
                            <div class="recurring-expenses-grid" id="pausedRecurringGrid">
                                <!-- Paused recurring expenses will be displayed here -->
                            </div>
                        </div>

                        <div id="upcoming-recurring" class="tab-content">
                            <div class="upcoming-expenses-list" id="upcomingRecurringList">
                                <!-- Upcoming recurring expenses will be displayed here -->
                            </div>
                        </div>

                        <div class="modal-actions">
                            <button type="button" class="btn-secondary" onclick="app.closeModal('recurringModal')">Close</button>
                            <button type="button" class="btn-primary" onclick="app.openModal('expenseModal')">Add Recurring</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Food & Nutrition Section -->
            <section id="food" class="section">
                <div class="section-header">
                    <h1>üç≤ Food & Nutrition Planner</h1>
                    <div class="food-header-actions">
                        <button class="btn-secondary export-btn" data-section="food" data-format="csv">üìä Export CSV</button>
                        <button class="btn-secondary export-btn" data-section="food" data-format="json">üìÑ Export JSON</button>
                        <button class="btn-secondary" id="addMealBtn">+ Add Meal</button>
                        <button class="btn-secondary" id="viewMealCalendarBtn">üìÖ Meal Calendar</button>
                        <button class="btn-primary" id="addFoodBtn">+ Add Food Item</button>
                    </div>
                </div>

                <div class="food-stats">
                    <div class="stat-card">
                        <span id="homeMeals">0</span>
                        <label>Home Meals</label>
                    </div>
                    <div class="stat-card">
                        <span id="hotelMeals">0</span>
                        <label>Hotel/Delivery</label>
                    </div>
                    <div class="stat-card">
                        <span id="moneySaved">‚Çπ0</span>
                        <label>Money Saved</label>
                    </div>
                    <div class="stat-card">
                        <span id="caloriesConsumed">0</span>
                        <label>Calories Today</label>
                    </div>
                </div>

                <!-- Daily Food Tracking -->
                <div class="daily-food-tracking">
                    <h3>üìä Daily Food Tracking</h3>
                    <div class="food-tracking-tabs">
                        <button class="tab-btn active" data-tab="today-food">Today</button>
                        <button class="tab-btn" data-tab="yesterday-food">Yesterday</button>
                        <button class="tab-btn" data-tab="weekly-food">This Week</button>
                    </div>

                    <div id="today-food" class="tab-content active">
                        <div class="daily-summary">
                            <div class="summary-cards">
                                <div class="summary-card home-cooking">
                                    <h4>üè† Home Cooked</h4>
                                    <div class="summary-stats">
                                        <span class="count" id="todayHomeMeals">0</span>
                                        <span class="calories" id="todayHomeCalories">0 cal</span>
                                        <span class="cost" id="todayHomeCost">‚Çπ0</span>
                                    </div>
                                </div>
                                <div class="summary-card hotel-delivery">
                                    <h4>üè® Hotel/Delivery</h4>
                                    <div class="summary-stats">
                                        <span class="count" id="todayHotelMeals">0</span>
                                        <span class="calories" id="todayHotelCalories">0 cal</span>
                                        <span class="cost" id="todayHotelCost">‚Çπ0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="meals-list" id="todayMealsList">
                            <!-- Today's meals will be listed here -->
                        </div>
                    </div>

                    <div id="yesterday-food" class="tab-content">
                        <div class="meals-list" id="yesterdayMealsList">
                            <!-- Yesterday's meals will be listed here -->
                        </div>
                    </div>

                    <div id="weekly-food" class="tab-content">
                        <div class="weekly-analysis" id="weeklyFoodAnalysis">
                            <!-- Weekly food analysis will be shown here -->
                        </div>
                    </div>
                </div>

                <div class="meal-planner">
                    <div class="meal-planner-header">
                        <h3>üìÖ Daily Meal Planner</h3>
                        <div class="date-selector">
                            <button class="btn-small" onclick="app.changeMealPlanDate(-1)">ÔøΩÔøΩÔøΩ Yesterday</button>
                            <span id="currentPlanDate">Today</span>
                            <button class="btn-small" onclick="app.changeMealPlanDate(1)">Tomorrow ‚Üí</button>
                        </div>
                    </div>
                    <div class="meal-grid" id="mealPlanGrid">
                        <!-- Meal cards will be dynamically generated -->
                    </div>
                    <div class="meal-actions">
                        <button class="btn-secondary" onclick="app.regenerateMealPlan()">üîÑ Regenerate Suggestions</button>
                        <button class="btn-primary" onclick="app.addCustomMeal()">+ Add Custom Meal</button>
                    </div>
                </div>


                <!-- Home vs Hotel Analysis -->
                <div class="home-vs-hotel-analysis">
                    <h3>üè† Home vs üè® Hotel Analysis</h3>
                    <div class="analysis-grid">
                        <div class="chart-container">
                            <h4>Cooking Frequency (Last 7 Days)</h4>
                            <canvas id="cookingFrequencyChart" width="400" height="250"></canvas>
                        </div>
                        <div class="chart-container">
                            <h4>Cost Comparison</h4>
                            <canvas id="costComparisonChart" width="400" height="250"></canvas>
                        </div>
                    </div>
                    <div class="comparison-insights" id="comparisonInsights">
                        <!-- Dynamic insights will be generated here -->
                    </div>
                </div>

                <!-- Food Analytics Dashboard -->
                <div class="food-analytics-section">
                    <h3>üìä Food Analytics & Insights</h3>

                    <div class="nutrition-overview">
                        <div class="nutrition-stats-grid">
                            <div class="nutrition-stat">
                                <div class="nutrition-value" id="weeklyCalories">14,700</div>
                                <div class="nutrition-label">Weekly Calories</div>
                                <div class="nutrition-change positive" id="calorieChange">+5%</div>
                            </div>
                            <div class="nutrition-stat">
                                <div class="nutrition-value" id="avgMealCost">‚Çπ45</div>
                                <div class="nutrition-label">Avg Meal Cost</div>
                                <div class="nutrition-change negative" id="costChange">-8%</div>
                            </div>
                            <div class="nutrition-stat">
                                <div class="nutrition-value" id="homeCookingDays">5/7</div>
                                <div class="nutrition-label">Home Cooking Days</div>
                                <div class="nutrition-change positive" id="cookingChange">+2</div>
                            </div>
                            <div class="nutrition-stat">
                                <div class="nutrition-value" id="southIndianMeals">12</div>
                                <div class="nutrition-label">South Indian Meals</div>
                                <div class="nutrition-change positive" id="southIndianChange">+4</div>
                            </div>
                        </div>
                    </div>

                    <div class="food-charts-grid">
                        <div class="chart-container">
                            <h4>Daily Calorie Intake (Last 7 Days)</h4>
                            <canvas id="calorieChart" width="400" height="250"></canvas>
                        </div>
                        <div class="chart-container">
                            <h4>Meal Cost vs Delivery Comparison</h4>
                            <canvas id="mealCostChart" width="400" height="250"></canvas>
                        </div>
                    </div>

                    <div class="food-insights">
                    <h4>üß† Smart Food Insights</h4>
                    <div class="insights-grid" id="foodInsightsList">
                        <div class="insight-card">
                            <div class="insight-icon">ü••</div>
                            <div class="insight-content">
                                <h5>South Indian Preference</h5>
                                <p>You've had 12 South Indian meals this week. Your favorite seems to be dosa-based breakfasts!</p>
                            </div>
                        </div>
                        <div class="insight-card">
                            <div class="insight-icon">üí∞</div>
                            <div class="insight-content">
                                <h5>Cost Savings</h5>
                                <p>Cooking at home saved you ‚Çπ1,200 this week compared to ordering food delivery.</p>
                            </div>
                        </div>
                        <div class="insight-card">
                            <div class="insight-icon">üî•</div>
                            <div class="insight-content">
                                <h5>Calorie Balance</h5>
                                <p>Your daily calorie intake is well-balanced at 2,100 calories on average.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Meal History Section -->
                <div class="meal-history-section">
                    <h4>üìã Recent Meals</h4>
                    <div id="mealHistoryContainer">
                        <!-- Meal history will be loaded here -->
                    </div>
                </div>
                </div>

                <div class="pantry-section">
                    <h3>Your Pantry</h3>
                    <div class="pantry-list" id="pantryList">
                        <!-- Pantry items will be added here -->
                    </div>
                </div>

                <!-- Add Meal Modal -->
                <div id="mealModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Add Meal</h2>
                        <form id="mealForm">
                            <div class="form-group">
                                <label for="mealName">Meal Name</label>
                                <input type="text" id="mealName" placeholder="e.g., Chicken Biryani" required>
                            </div>

                            <div class="form-group">
                                <label for="mealType">Meal Type</label>
                                <select id="mealType" required>
                                    <option value="">Select meal type</option>
                                    <option value="breakfast">üåÖ Breakfast</option>
                                    <option value="lunch">üåû Lunch</option>
                                    <option value="dinner">üåô Dinner</option>
                                    <option value="snack">ü•® Snack</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="mealCalories">Calories</label>
                                <input type="number" id="mealCalories" placeholder="e.g., 450" required min="1">
                            </div>

                            <div class="form-group">
                                <label>Where did you have this meal?</label>
                                <div class="meal-source-options">
                                    <button type="button" class="source-option" data-source="home" id="homeOption">
                                        <span class="icon">üè†</span>
                                        <span>Cook at Home</span>
                                    </button>
                                    <button type="button" class="source-option" data-source="hotel" id="hotelOption">
                                        <span class="icon">üè®</span>
                                        <span>Hotel/Delivery</span>
                                    </button>
                                </div>
                            </div>

                            <div id="homeCookingDetails" class="cooking-details" style="display: none;">
                                <div class="form-group">
                                    <label for="ingredientCost">Ingredient Cost (‚Çπ)</label>
                                    <input type="number" id="ingredientCost" placeholder="e.g., 50" step="0.01" min="0">
                                </div>
                                <div class="form-group">
                                    <label for="cookingTime">Cooking Time (minutes)</label>
                                    <input type="number" id="cookingTime" placeholder="e.g., 30" min="1">
                                </div>
                            </div>

                            <div id="hotelDetails" class="cooking-details" style="display: none;">
                                <div class="form-group">
                                    <label for="mealCost">Meal Cost (‚Çπ)</label>
                                    <input type="number" id="mealCost" placeholder="e.g., 150" step="0.01" min="0" required>
                                </div>
                                <div class="form-group">
                                    <label for="deliveryCharges">Delivery/Transportation Charges (‚Çπ)</label>
                                    <input type="number" id="deliveryCharges" placeholder="e.g., 25" step="0.01" min="0">
                                </div>
                                <div class="form-group">
                                    <label for="restaurantName">Restaurant/Hotel Name</label>
                                    <input type="text" id="restaurantName" placeholder="e.g., Saravana Bhavan">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="mealDate">Date</label>
                                <input type="date" id="mealDate" required>
                            </div>

                            <div class="form-group">
                                <label>Meal Status</label>
                                <div class="meal-status-options">
                                    <button type="button" class="status-option active" data-status="eaten" id="eatenOption">
                                        <span class="icon">‚úÖ</span>
                                        <span>Already Eaten</span>
                                    </button>
                                    <button type="button" class="status-option" data-status="planned" id="plannedOption">
                                        <span class="icon">üìÖ</span>
                                        <span>Plan for Later</span>
                                    </button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="mealNotes">Notes (Optional)</label>
                                <textarea id="mealNotes" placeholder="How was the meal? Any special ingredients?"></textarea>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="app.closeModal('mealModal')">Cancel</button>
                                <button type="submit" class="btn-primary">Save Meal</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Meal Selection Modal -->
                <div id="mealSelectionModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2 id="mealSelectionTitle">Select Meal Options</h2>

                        <div class="meal-selection-content">
                            <div class="suggested-meal-info">
                                <div class="meal-name" id="selectedMealName">Dosa with Chutney</div>
                                <div class="meal-meta">
                                    <span id="selectedMealCalories">280 cal</span>
                                    <span id="selectedMealType">Breakfast</span>
                                </div>
                            </div>

                            <div class="meal-options">
                                <h4>Where will you have this meal?</h4>
                                <div class="source-selection">
                                    <button class="source-btn" data-source="home" id="homeSourceBtn">
                                        <span class="icon">üè†</span>
                                        <span>Cook at Home</span>
                                    </button>
                                    <button class="source-btn" data-source="hotel" id="hotelSourceBtn">
                                        <span class="icon">üè®</span>
                                        <span>Order/Hotel</span>
                                    </button>
                                </div>

                                <div id="homeCookingOptions" class="cooking-options" style="display: none;">
                                    <label for="homeEstimatedCost">Estimated Ingredient Cost (‚Çπ)</label>
                                    <input type="number" id="homeEstimatedCost" placeholder="e.g., 50" step="0.01">
                                </div>

                                <div id="hotelOrderOptions" class="cooking-options" style="display: none;">
                                    <label for="hotelEstimatedCost">Estimated Cost (‚Çπ)</label>
                                    <input type="number" id="hotelEstimatedCost" placeholder="e.g., 150" step="0.01">
                                    <label for="deliveryEstimate">Delivery Charges (‚Çπ)</label>
                                    <input type="number" id="deliveryEstimate" placeholder="e.g., 25" step="0.01">
                                </div>

                                <h4 style="margin-top: 20px;">Meal Status</h4>
                                <div class="status-selection">
                                    <button class="status-btn active" data-status="planned" id="plannedStatusBtn">
                                        <span class="icon">üìÖ</span>
                                        <span>Planned</span>
                                    </button>
                                    <button class="status-btn" data-status="eaten" id="eatenStatusBtn">
                                        <span class="icon">‚úÖ</span>
                                        <span>Eaten</span>
                                    </button>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="app.closeModal('mealSelectionModal')">Cancel</button>
                                <button type="button" class="btn-primary" onclick="app.confirmMealSelection()">Confirm Selection</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Regenerate Meal Plan Modal -->
                <div id="regenerateMealModal" class="modal">
                    <div class="modal-content wide-modal">
                        <span class="close">&times;</span>
                        <h2>üîÑ Random Meal Suggestions</h2>

                        <div class="regenerate-content">
                            <p>Accept any meal you like or regenerate for new options. Only empty meal slots are suggested:</p>

                            <div class="meal-suggestions-grid" id="mealSuggestionsGrid">
                                <!-- Meal suggestions will be generated here -->
                            </div>

                            <div class="regenerate-actions">
                                <button class="btn-secondary" onclick="app.regenerateMoreSuggestions()">üé≤ Show More Options</button>
                                <button class="btn-primary" onclick="app.closeModal('regenerateMealModal')">Done</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Add Food Item Modal -->
                <div id="foodModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Add Food Item to Pantry</h2>
                        <form id="foodForm">
                            <div class="form-group">
                                <label for="foodName">Food Item Name</label>
                                <input type="text" id="foodName" placeholder="e.g., Basmati Rice" required>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="foodQuantity">Quantity</label>
                                    <input type="number" id="foodQuantity" placeholder="e.g., 5" required step="0.01" min="0">
                                </div>
                                <div class="form-group">
                                    <label for="foodUnit">Unit</label>
                                    <select id="foodUnit">
                                        <option value="kg">kg</option>
                                        <option value="g">g</option>
                                        <option value="pieces">pieces</option>
                                        <option value="liters">liters</option>
                                        <option value="ml">ml</option>
                                        <option value="packets">packets</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="foodCaloriesPer100g">Calories per 100g/100ml</label>
                                <input type="number" id="foodCaloriesPer100g" placeholder="e.g., 130" required min="1">
                            </div>
                            <div class="form-group">
                                <label for="foodExpiry">Expiry Date</label>
                                <input type="date" id="foodExpiry">
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="app.closeModal('foodModal')">Cancel</button>
                                <button type="submit" class="btn-primary">Add to Pantry</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Meal Calendar Modal -->
                <div id="mealCalendarModal" class="modal">
                    <div class="modal-content wide-modal">
                        <span class="close">&times;</span>
                        <h2>üìÖ Meal Calendar</h2>

                        <div class="calendar-container">
                            <div class="calendar-header">
                                <button class="btn-small" onclick="app.navigateMealCalendar('prev')">‚Äπ</button>
                                <h3 id="mealCalendarTitle">September 2024</h3>
                                <button class="btn-small" onclick="app.navigateMealCalendar('next')">‚Ä∫</button>
                            </div>

                            <div class="meal-calendar" id="mealCalendar">
                                <!-- Calendar will be rendered here -->
                            </div>

                            <div class="calendar-legend">
                                <div class="legend-item">
                                    <span class="meal-dot planned">‚Ä¢</span> Planned
                                </div>
                                <div class="legend-item">
                                    <span class="meal-dot eaten">‚Ä¢</span> Eaten
                                </div>
                                <div class="legend-item">
                                    <span class="meal-dot empty">‚Ä¢</span> Not planned
                                </div>
                            </div>
                        </div>

                        <div class="selected-date-info">
                            <h4 id="selectedMealDate">Select a date to view meals</h4>
                            <div class="selected-meals-list" id="selectedMealsList">
                                <!-- Selected date meals will be displayed here -->
                            </div>
                        </div>

                        <div class="modal-actions">
                            <button type="button" class="btn-secondary" onclick="app.closeModal('mealCalendarModal')">Close</button>
                            <button type="button" class="btn-primary" onclick="app.addCustomMeal()">Add Meal</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Fitness Section -->
            <section id="fitness" class="section">
                <div class="section-header">
                    <h1>üèãÔ∏è Fitness & Home Workouts</h1>
                    <div class="header-actions">
                        <button class="btn-secondary export-btn" data-section="fitness" data-format="csv">üìä Export CSV</button>
                        <button class="btn-secondary export-btn" data-section="fitness" data-format="json">üìÑ Export JSON</button>
                        <button class="btn-primary" id="markWorkoutBtn">‚úì Mark Today's Workout</button>
                    </div>
                </div>

                <div class="fitness-stats">
                    <div class="stat-card">
                        <span id="fitnessStreak">0</span>
                        <label>Day Streak üî•</label>
                    </div>
                    <div class="stat-card">
                        <span id="weeklyWorkouts">4/7</span>
                        <label>This Week</label>
                    </div>
                    <div class="stat-card">
                        <span id="totalWorkouts">25</span>
                        <label>Total Workouts</label>
                    </div>
                    <div class="stat-card">
                        <span id="totalCaloriesBurnt">0</span>
                        <label>Total Calories üî•</label>
                    </div>
                </div>

                <div class="workout-categories">
                    <h3>Today's Recommended Exercises</h3>
                    <div class="exercise-grid">
                        <div class="exercise-card" data-exercise="desk-stretches">
                            <h4>ü™ë Desk Stretches</h4>
                            <p>5-minute neck and shoulder relief</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="eye-exercises">
                            <h4>üëÅÔ∏è Eye Exercises</h4>
                            <p>Reduce eye strain from screens</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="posture-fix">
                            <h4>ÔøΩÔøΩÔøΩ Posture Fix</h4>
                            <p>Improve sitting posture</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="yoga">
                            <h4>üßò 5-min Yoga</h4>
                            <p>Quick relaxation routine</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="breathing">
                            <h4>ü´Å Deep Breathing</h4>
                            <p>3-minute stress relief breathing</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="wall-pushups">
                            <h4>üö™ Wall Push-ups</h4>
                            <p>Easy strength exercise anywhere</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="calf-raises">
                            <h4>ü¶µ Calf Raises</h4>
                            <p>Improve circulation while standing</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="arm-circles">
                            <h4>üí™ Arm Circles</h4>
                            <p>Shoulder mobility and warm-up</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="seated-twists">
                            <h4>üîÑ Seated Spinal Twists</h4>
                            <p>Reduce back tension while sitting</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="march-in-place">
                            <h4>üö∂ March in Place</h4>
                            <p>Quick cardio boost at your desk</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="ankle-pumps">
                            <h4>ü¶∂ Ankle Pumps</h4>
                            <p>Combat sitting all day</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                        <div class="exercise-card" data-exercise="chair-squats">
                            <h4>ü™ë Chair Squats</h4>
                            <p>Leg strength using your chair</p>
                            <button class="btn-secondary">Start Exercise</button>
                        </div>
                    </div>
                </div>

                <div class="badges-section">
                    <h3>Achievement Badges</h3>
                    <div class="badges-grid" id="badgesList">
                        <!-- Fitness Badges -->
                        <div class="badge locked" data-badge="firstWorkout">
                            <span>üèÜ</span>
                            <p>First Workout</p>
                            <small>Complete your first exercise</small>
                        </div>
                        <div class="badge locked" data-badge="sevenDayStreak">
                            <span>ÔøΩÔøΩÔøΩ</span>
                            <p>7-Day Streak</p>
                            <small>Workout for 7 consecutive days</small>
                        </div>
                        <div class="badge locked" data-badge="consistencyKing">
                            <span>üëë</span>
                            <p>Consistency King</p>
                            <small>20 workouts in 28 days</small>
                        </div>
                        <div class="badge locked" data-badge="exerciseExplorer">
                            <span>üß≠</span>
                            <p>Exercise Explorer</p>
                            <small>Try 8 different exercises</small>
                        </div>
                        <div class="badge locked" data-badge="timerMaster">
                            <span>‚è∞</span>
                            <p>Timer Master</p>
                            <small>Complete 10 timed exercises</small>
                        </div>

                        <!-- Food & Nutrition Badges -->
                        <div class="badge locked" data-badge="southIndianFoodie">
                            <span>ü••</span>
                            <p>South Indian Foodie</p>
                            <small>Cook 10 South Indian dishes</small>
                        </div>
                        <div class="badge locked" data-badge="calorieTracker">
                            <span>üìä</span>
                            <p>Calorie Tracker</p>
                            <small>Track calories for 7 days</small>
                        </div>
                        <div class="badge locked" data-badge="homeCookChampion">
                            <span>üë®‚Äçüç≥</span>
                            <p>Home Cook Champion</p>
                            <small>Cook at home 15 days</small>
                        </div>
                        <div class="badge locked" data-badge="nutritionExpert">
                            <span>ü•ó</span>
                            <p>Nutrition Expert</p>
                            <small>Maintain healthy eating for 30 days</small>
                        </div>
                        <div class="badge locked" data-badge="mealPlanMaster">
                            <span>üìã</span>
                            <p>Meal Plan Master</p>
                            <small>Plan meals for 14 days</small>
                        </div>
                        <div class="badge locked" data-badge="healthyChoice">
                            <span>üíö</span>
                            <p>Healthy Choice</p>
                            <small>Choose healthy options 20 times</small>
                        </div>

                        <!-- Habit & Lifestyle Badges -->
                        <div class="badge locked" data-badge="wellnessWarrior">
                            <span>üßò‚ÄçÔøΩÔøΩÔøΩÔ∏è</span>
                            <p>Wellness Warrior</p>
                            <small>Complete stress relief 10 times</small>
                        </div>

                        <!-- Financial Badges -->
                        <div class="badge locked" data-badge="budgetBoss">
                            <span>üí∞</span>
                            <p>Budget Boss</p>
                            <small>Stay within budget for a month</small>
                        </div>
                        <div class="badge locked" data-badge="savingsChampion">
                            <span>üè¶</span>
                            <p>Savings Champion</p>
                            <small>Save 20% of income</small>
                        </div>
                        <div class="badge locked" data-badge="expenseTracker">
                            <span>üìà</span>
                            <p>Expense Tracker</p>
                            <small>Track expenses for 30 days</small>
                        </div>

                        <!-- Productivity Badges -->
                        <div class="badge locked" data-badge="taskMaster">
                            <span>‚úÖ</span>
                            <p>Task Master</p>
                            <small>Complete 50 tasks</small>
                        </div>
                        <div class="badge locked" data-badge="weeklyChampion">
                            <span>üóìÔ∏è</span>
                            <p>Weekly Champion</p>
                            <small>100% task completion for a week</small>
                        </div>
                        <div class="badge locked" data-badge="organizer">
                            <span>üìä</span>
                            <p>Organizer</p>
                            <small>Use all sections of the app</small>
                        </div>
                    </div>
                </div>

                <!-- Exercise Modal -->
                <div id="exerciseModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2 id="exerciseTitle">Exercise</h2>

                        <!-- Timer Section -->
                        <div class="exercise-timer-section" id="exerciseTimerSection" style="display: none;">
                            <div class="timer-circle">
                                <div class="timer-display" id="timerDisplay">00:00</div>
                                <div class="timer-label">Time Remaining</div>
                            </div>
                            <div class="timer-controls">
                                <button class="btn-secondary" id="startTimerBtn">Start Timer</button>
                                <button class="btn-secondary" id="pauseTimerBtn" style="display: none;">Pause</button>
                                <button class="btn-secondary" id="resetTimerBtn" style="display: none;">Reset</button>
                            </div>
                            <div class="timer-progress-bar">
                                <div class="timer-progress-fill" id="timerProgressFill"></div>
                            </div>
                        </div>

                        <div id="exerciseInstructions">
                            <!-- Exercise instructions will be loaded here -->
                        </div>

                        <div class="exercise-modal-actions">
                            <button class="btn-primary" id="completeExerciseBtn">Mark as Complete</button>
                            <button class="btn-secondary" id="skipExerciseBtn">Skip Exercise</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Stress & Mood Section -->
            <section id="stress" class="section">
                <div class="section-header">
                    <h1>üòå Stress & Mood Tracker</h1>
                    <div class="header-actions">
                        <button class="btn-secondary export-btn" data-section="stress" data-format="csv">üìä Export CSV</button>
                        <button class="btn-secondary export-btn" data-section="stress" data-format="json">üìÑ Export JSON</button>
                        <button class="btn-primary" id="moodCheckBtn">Check-in Today</button>
                    </div>
                </div>

                <div class="mood-checkin">
                    <h3>How are you feeling today?</h3>
                    <div class="mood-options">
                        <button class="mood-btn" data-mood="very-happy">üòÉ</button>
                        <button class="mood-btn" data-mood="happy">ÔøΩÔøΩÔøΩ</button>
                        <button class="mood-btn" data-mood="neutral">üòê</button>
                        <button class="mood-btn" data-mood="stressed">üòì</button>
                        <button class="mood-btn" data-mood="very-stressed">üò≠</button>
                    </div>
                </div>

                <div class="mood-chart">
                    <h3>Weekly Mood Trend</h3>
                    <canvas id="moodChart" width="600" height="300"></canvas>
                </div>

                <div class="insights-section">
                    <h3>üß† Insights & Correlations</h3>
                    <div class="insight-cards" id="insightCards">
                        <div class="insight-card">
                            <h4>üí∞ Spending Pattern</h4>
                            <p>You tend to be more stressed on days with higher spending</p>
                        </div>
                        <div class="insight-card">
                            <h4>üèãÔ∏è Workout Impact</h4>
                            <p>Your mood is 30% better on workout days</p>
                        </div>
                    </div>
                </div>

                <div class="stress-relief">
                    <h3>ÔøΩÔøΩÔøΩ Stress Relief Suggestions</h3>
                    <div class="relief-options">
                        <button class="relief-btn" id="breathingBtn">ü´Å Breathing Exercise</button>
                        <button class="relief-btn" id="meditationBtn">ÔøΩÔøΩÔøΩ 5-min Meditation</button>
                        <button class="relief-btn" id="stretchBtn">ü§∏ Stand & Stretch</button>
                    </div>
                </div>

                <!-- Breathing Exercise Modal -->
                <div id="breathingModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>ÔøΩÔøΩ Breathing Exercise</h2>
                        <div class="breathing-circle" id="breathingCircle">
                            <div class="circle"></div>
                            <p id="breathingText">Click Start to begin</p>
                        </div>
                        <button class="btn-primary" id="startBreathingBtn">Start Exercise</button>
                    </div>
                </div>
            </section>

            <!-- Insights & Analysis Section -->
            <section id="habits" class="section">
                <div class="section-header">
                    <h1>üéØ Life Analytics</h1>
                    <div class="header-actions">
                        <button class="btn-secondary export-btn" data-section="habits" data-format="csv">üìä Export CSV</button>
                        <button class="btn-secondary export-btn" data-section="habits" data-format="json">üìÑ Export JSON</button>
                    </div>
                </div>

                <!-- Life Balance Overview -->
                <div class="life-balance-overview">
                    <div class="balance-score-container">
                        <div class="balance-score-circle">
                            <div class="balance-score-value" id="lifeBalanceScore">0</div>
                            <div class="balance-score-label">Life Balance Score</div>
                        </div>
                        <div class="balance-breakdown" id="balanceBreakdown">
                            <!-- Balance breakdown will be shown here -->
                        </div>
                    </div>
                </div>

                <!-- Help Instructions Section -->
                <div class="help-instructions-section">
                    <h3>üìñ How to Use This App</h3>

                    <div class="help-navigation">
                        <button class="btn-secondary" id="prevHelpBtn" onclick="app.showPreviousHelp()">‚¨ÖÔ∏è Previous</button>
                        <span id="helpPageIndicator">1 / 6</span>
                        <button class="btn-secondary" id="nextHelpBtn" onclick="app.showNextHelp()">Next ‚û°Ô∏è</button>
                    </div>

                    <div class="help-content">
                        <!-- Help Page 1: Dashboard -->
                        <div class="help-page active" id="helpPage1">
                            <div class="help-icon">üè†</div>
                            <h4>Dashboard Overview</h4>
                            <p>Your dashboard provides a quick summary of your daily activities:</p>
                            <ul>
                                <li><strong>Tasks:</strong> Track and complete your daily to-do items</li>
                                <li><strong>Expenses:</strong> Monitor your weekly spending patterns</li>
                                <li><strong>Meals:</strong> View suggested healthy meal options</li>
                                <li><strong>Workouts:</strong> Keep track of your fitness streak</li>
                                <li><strong>Mood:</strong> Check in with your emotional well-being</li>
                            </ul>
                            <p>The Life Balance Score above shows your overall wellness across all areas.</p>
                        </div>

                        <!-- Help Page 2: Tasks -->
                        <div class="help-page" id="helpPage2">
                            <div class="help-icon">üìë</div>
                            <h4>Task Management</h4>
                            <p>Organize your daily productivity:</p>
                            <ul>
                                <li>Click <strong>"+ Add Task"</strong> to create new tasks</li>
                                <li>Choose categories like work, personal, health, etc.</li>
                                <li>Set due dates for important deadlines</li>
                                <li>Mark tasks as expense-related if they involve spending</li>
                                <li>Filter tasks by status: All, Today, Upcoming, Completed</li>
                            </ul>
                            <p>Completing tasks consistently builds your productivity streak!</p>
                        </div>

                        <!-- Help Page 3: Expenses -->
                        <div class="help-page" id="helpPage3">
                            <div class="help-icon">üí∞</div>
                            <h4>Expense Tracking</h4>
                            <p>Keep your finances organized:</p>
                            <ul>
                                <li><strong>Overview:</strong> See recent expenses and budget tracking</li>
                                <li><strong>Calendar:</strong> View expenses by date with color coding</li>
                                <li><strong>Analytics:</strong> Analyze spending trends and patterns</li>
                                <li><strong>Insights:</strong> Get financial health scores and predictions</li>
                                <li>Set monthly budgets and income to track savings</li>
                            </ul>
                            <p>Use different payment methods and categorize expenses for better insights.</p>
                        </div>

                        <!-- Help Page 4: Food & Nutrition -->
                        <div class="help-page" id="helpPage4">
                            <div class="help-icon">üç≤</div>
                            <h4>Food & Nutrition Planning</h4>
                            <p>Manage your meals and nutrition:</p>
                            <ul>
                                <li>Track meals as either home-cooked or ordered</li>
                                <li>Log calories for each meal you consume</li>
                                <li>Plan daily meals with the meal planner</li>
                                <li>Compare costs between cooking and ordering</li>
                                <li>View meal calendar to plan ahead</li>
                                <li>Manage your pantry inventory</li>
                            </ul>
                            <p>Cooking at home more often improves both health and savings!</p>
                        </div>

                        <!-- Help Page 5: Fitness & Wellness -->
                        <div class="help-page" id="helpPage5">
                            <div class="help-icon">üèãÔ∏è</div>
                            <h4>Fitness & Wellness</h4>
                            <p>Stay active and manage stress:</p>
                            <ul>
                                <li><strong>Fitness:</strong> Try home exercises like desk stretches, yoga, breathing</li>
                                <li><strong>Stress & Mood:</strong> Daily mood check-ins and stress relief</li>
                                <li>Mark workouts complete to build your fitness streak</li>
                                <li>Use guided breathing exercises for stress relief</li>
                                <li>Track your mood trends over time</li>
                            </ul>
                            <p>Regular exercise and mood tracking help maintain mental and physical health.</p>
                        </div>

                        <!-- Help Page 6: Reports & Export -->
                        <div class="help-page" id="helpPage6">
                            <div class="help-icon">üìä</div>
                            <h4>Reports & Data Export</h4>
                            <p>Analyze your progress and export data:</p>
                            <ul>
                                <li>Generate weekly summary reports</li>
                                <li>Export data in CSV or JSON format from any section</li>
                                <li>View comprehensive analysis of all life areas</li>
                                <li>Track progress over time with trends and charts</li>
                                <li>Get personalized advice based on your patterns</li>
                            </ul>
                            <p>Regular review of your data helps identify patterns and areas for improvement.</p>
                        </div>
                    </div>
                </div>



                <!-- Recommendations Tab -->
                <div id="recommendations" class="tab-content">
                    <div class="recommendations-grid">
                        <div class="recommendation-container">
                            <h3>üåü Top Performing Areas</h3>
                            <div class="performance-highlights" id="performanceHighlights">
                                <!-- Performance highlights will be shown here -->
                            </div>
                        </div>

                        <div class="recommendation-container">
                            <h3>ÔøΩÔøΩÔøΩÔ∏è Areas for Improvement</h3>
                            <div class="improvement-areas" id="improvementAreas">
                                <!-- Improvement areas will be shown here -->
                            </div>
                        </div>

                        <div class="recommendation-container">
                            <h3>üí° Personalized Suggestions</h3>
                            <div class="smart-recommendations" id="smartRecommendations">
                                <!-- Smart recommendations will be shown here -->
                            </div>
                        </div>

                        <div class="recommendation-container">
                            <h3>üéØ Action Plan</h3>
                            <div class="action-plan" id="actionPlan">
                                <!-- Action plan will be shown here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Progress Analysis Tab -->
                <div id="progress-analysis" class="tab-content">
                    <div class="progress-overview">
                        <h3>üìà Overall Progress Tracking</h3>
                        <div class="progress-metrics" id="progressMetrics">
                            <!-- Progress metrics will be displayed here -->
                        </div>
                    </div>

                    <div class="progress-trends">
                        <h3>üìä Trend Analysis</h3>
                        <div class="chart-container">
                            <h4>Monthly Progress Trends</h4>
                            <canvas id="progressTrendsChart" width="600" height="300"></canvas>
                        </div>
                        <div class="progress-insights" id="progressInsights">
                            <!-- Progress insights will be shown here -->
                        </div>
                    </div>
                </div>

            </section>

            <!-- Report Generator Section -->
            <section id="report" class="section">
                <div class="section-header">
                    <h1>üìä Report Generator</h1>
                    <!-- Period selector and export buttons will be added dynamically -->
                </div>

                <!-- Comprehensive Report Download Section -->
                <div class="comprehensive-download">
                    <h3>üìã Comprehensive Analysis Report</h3>
                    <p>Download a complete analysis including trends, correlations, insights, and recommendations.</p>
                    <div class="download-options">
                        <button class="btn-primary" onclick="app.downloadComprehensiveReport('json')">üìä Download Full Report (JSON)</button>
                        <button class="btn-secondary" onclick="app.downloadComprehensiveReport('csv')">üìà Download Summary (CSV)</button>
                    </div>
                </div>

                <div class="report-summary">
                    <div class="summary-grid">
                        <div class="summary-card tasks-summary">
                            <h3>‚úÖ Tasks Completed</h3>
                            <div class="big-stat" id="reportTasksCompleted">85%</div>
                            <p id="reportTasksDetail">17/20 tasks completed this week</p>
                        </div>
                        
                        <div class="summary-card expense-summary">
                            <h3>üí∞ Total Spending</h3>
                            <div class="big-stat" id="reportTotalSpent">‚Çπ4,200</div>
                            <p id="reportExpenseDetail">Top categories: Food, Bills, Shopping</p>
                        </div>
                        
                        <div class="summary-card food-summary">
                            <h3>üç≤ Healthy Meals</h3>
                            <div class="big-stat" id="reportHealthyMeals">5/7</div>
                            <p id="reportFoodDetail">Cooked at home 5 days, saved ‚Çπ1,200</p>
                        </div>
                        
                        <div class="summary-card fitness-summary">
                            <h3>üèãÔ∏è Workout Days</h3>
                            <div class="big-stat" id="reportWorkoutDays">4/7</div>
                            <p id="reportFitnessDetail">Maintained 8-day streak</p>
                        </div>
                        
                        <div class="summary-card stress-summary">
                            <h3>üòå Stress Levels</h3>
                            <div class="big-stat" id="reportStressLevel">Medium</div>
                            <p id="reportStressDetail">High stress on 2 days, low on 3 days</p>
                        </div>
                    </div>
                </div>

                <div class="personalized-advice">
                    <h3>üéØ Personalized Advice</h3>
                    <div class="advice-card" id="personalizedAdvice">
                        <p>You spent too much on food delivery this week. Try cooking twice more at home next week to save ‚Çπ1,500 and reduce stress. Your workout consistency is great - keep it up!</p>
                    </div>
                </div>

                <div class="weekly-trends">
                    <h3>ÔøΩÔøΩÔøΩ Weekly Trends</h3>
                    <canvas id="trendsChart" width="800" height="400"></canvas>
                </div>
            </section>
        </main>
    </div>

    <script src="storage.js"></script>
    <script src="utils.js"></script>
    <script src="charts.js"></script>
    <script src="notifications.js"></script>
    <script src="app.js"></script>
</body>
</html>
